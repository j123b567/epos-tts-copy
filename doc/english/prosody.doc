
Prosodic rules file format
--------------------------

The fundamenal rules for forming prosodic contours (using pitch,
duration and intensity adjustments) are of the PROSODY type.
Typically, there will be many instances of this rule in the rules
file, each of which using a different configuration file for
different purpose (e.g. one may handle word stress, another
one sentence-final melody of wh- questions, another one semantic
emphasis corresponding to an exclamation mark). The parameter
of a PROSODY rule is the name of a file, whose format is similar
to that of dictionaries (see...) and is further specified here.

Each prosodic adjustment occupies one line; it affects exactly one
of frequency, intensity and duration (T, I, or F, respectively)
of units positioned among others as specified. Their ordering 
is insignificant, because each of them affects different
units or a different quantity of them.

The structure of an adjustment is very simple, so let's just
pick an example: "i/3:4   -20". The first letter must be one
of T, I, F and specifies the quantity that may be adjusted;
the first number specified denotes the position within a unit 
whose length is to be equal to the second number: here, the
rule applies at every third syllable of every tetrasyllable, 
provided that the target of the rule is syllable, while
the scope is word (this is specified in the rules file as 
usual, not in the prosody file). The last number, separated 
by whitespace, is the intensity adjustment to be added 
everywhere this specification applies. It is an integer value.

It is also possible to have an adjustment applied for any
length of the scope unit (in the example above, for words
of any number of syllables. To do this, use "*" as the
second number of the adjustment. Also, it may make sense
to count the target unit starting at the end of the scope
unit; in this case append the word "last" to the first number.
An example could be "f/1last:*  -30", or "drop the pitch by 30
for last syllables of every word". Consequently, at most three
distinct rules may affect a unit; if that happens, only one is
chosen - the more specific one, or, if both contain the
asterisk, the one counting from the beginning is chosen.
An example, in order of decreasing precendence:

t/1:2     +30
t/1:*     +20
t/2last:*  +5

You can therefore override general adjustments with exceptions
for some lengths which have to be handled separately.

If multiple prosodic rules (using their own files) supply
adjustments for a certain unit, the adjustments are summed.

It is important to understand the difference between
e.g. a syllable and its phones: the syllable can have an entirely
different prosodic value than its phones; for every given diphone,
the value for any prosodic quantity is obtained by totalling
the values for all of higher levels units it is contained in.
This independency of levels of description might theoretically
be useful for modelling tone languages.

