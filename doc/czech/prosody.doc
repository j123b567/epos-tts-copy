
Formát prosodických pravidel pro pravidla typu PROSODY
------------------------------------------------------

Terminologie: jedno z mo¾ných pravidel v souborech *.rul jest
pravidlo PROSODY (mù¾e se vyskytovat opakovanì a s rùznými 
parametry). Jeho nejdùle¾itìj¹ím parametrem (viz doc/rules.doc)
je jméno souboru s prosodickými úpravami. Prosodické úpravy
jsou tedy nìco jako podøízená pravidla, pro formát jejich souboru
platí v¹e, co pro formát slovníkù (viz doc/dict.doc), zde se
dále konkretizuje.

Na poøadí prosodických úprav v souboru nezále¾í. Ka¾dá je umístìna
na samostatném øádku a mìní buïto frekvenci, intensitu nebo èasový
faktor pro jednotky vyhovující podmínce umístìní.

Pøíklad pravidla: "i/3:4  +100" (bez uvozovek). První znak ka¾dé
úpravy mù¾e být pouze f,i nebo t a urèuje velièinu, která má být
pøípadnì mìnìna, tato úprava se tedy týká intensity. Je-li nyní
tato úprava pou¾ita v rámci pravidla s rozsahem slovo a zasa¾enou
jednotkou slabika, bude aplikována na tøetí slabiku v ka¾dém ètyø-
slabièném slovì (obecnìji, na "tøetí cíl ze ètyø v rámci rozsahu).
Poslední èást pravidla je úprava, která se má pøièíst k dosavadní
intensitì zasa¾ené jednotky; mù¾e to být libovolné rozumnì velké
celé èíslo.

Obecný formát pravidla je "v/i:n a", kde _v_ je znak malé t,i nebo f,
_i_ je poøadí zasa¾ené jednotky v rámci rozsahu, pøípadnì s pøíponou
"last" (poøadí od konce), anebo hvìzdièka (kterákoli slabika); _n_
je poèet jednotek zasa¾ené úrovnì v rozsahu nebo hvìzdièka (libovolný
poèet jednotek) a _a_ je vlastní úprava, která se u¾ije, jsou-li
splnìny podmínky dané _i_,_n_. Je-li u¾ito _i_ s pøíponou "last",
musí být n hvìzdièka.

V následujících pøíkladech pøedpokládám, ¾e rozsah je vìta a zasa¾ená
jednotka je slabika:
t/2last:*   100    ; pøièti 100 k èasovému faktoru pøedposlední 
		   ; slabiky v ka¾dé vìtì
f/1:*      -130    ; sni¾ frekvenci v prvních slabikách v¹ech vìt...
f/1:1         0    ; ...frekvenci jednoslabièných vìt ale nemìò
i/*:4       -10    ; ètyøslabièná slova vyslovuj celá ti¹eji...
i/1:4        +3    ; ...a¾ na první slabiku, kterou trochu zesil

Lze-li na tuté¾ jednotku uplatnit více úprav v tém¾e pravidle,
má pøednost pravidlo, které uvádí konkrétní _n_ (zbylá se neprovedou);
dojde-li ke konfliktu pravidla poèítajícího odpøedu a odzadu,
pøednost má pravidlo poèítající odpøedu. Úpravy z rùzných pravidel
se sèítají tak, jak by èlovìk èekal.

Upozornìní: prosodické parametry slabiky nejsou ani zdaleka toté¾,
co prosodické parametry difonù v této slabice figurujících.
Definitivní hodnoty prosodických velièin se dávají dohromady
ve funkci unit::effective(), a to jako jakýsi souèet v¹ech vrstev
nad daným difonem.
