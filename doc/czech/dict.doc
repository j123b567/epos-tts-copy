
Jméno substituèního slovníku
----------------------------

Jménem slovníku se obvykle rozumí název souboru (obvykle bez cesty),
který v ní¾e uvedeném formátu popisuje, co se má èím nahradit.
Tento soubor, není-li k nìmu uvedena absolutní cesta (nebo relativní
vùèi poèáteèní "./"), se bude hledat v adresáøi daném
parametrem "hash_dir".

Krátké slovníky je mo¾no zabudovat pøímo do pravidel. V takovém pøípadì
je jméno slovníku v uvozovkách, slovník nemù¾e obsahovat komentáøe,
slovníkové polo¾ky jsou oddìleny mezerami, a vyhledávací klíè (viz ní¾e)
je od nahrazujícího výrazu oddìlen èárkou.

Formát substituèního slovníku
-----------------------------

Ka¾dá neprázdná øádka slovníku je slovníková polo¾ka. Ta sestává ze dvou slov,
která jsou oddìlena mezerami. První slou¾í jako vyhledávací klíè, druhé se
u¾ívá k nahrazení. Tedy napøíklad

máma táta

nahradí v¹echny výskyty slova máma slovem táta. Je-li na øádce uvedeno jen
jedno slovo, u¾ije se zároveò jako klíè i nahrazující polo¾ka, pokud jde
o pravidla PREP nebo POSTP. V pøípadì pravidla SUBST, PROSODY nebo DIPH 
se hlásí chyba, nebo» taková náhrada pravdìpodobnì nedává rozumný smysl. 
Je-li na øádce tøi nebo více slov, v¾dy se hlásí chyba (neplatí pro
konfiguraèní soubor).

Metody, z nich¾ lze nìkterou zvolit zatím pouze zásahem do rules.cc
(unit::apply_subst()):

M_EXACT           nahrazuje doslova
M_BEGIN           uznává i sufixy (formální)
M_END             uznává i prefixy
M_BEGIN_OR_END    uznává prefixy nebo sufixy, ne v¹ak najednou
M_SUBSTR          uznává najednou prefixy i sufixy (momentálnì pou¾itá)

Pøi pou¾ití jiné metody ne¾ M_EXACT lze nìkteré polo¾ky omezit pomocí 
znaku '^' na zaèátku nebo '$' na konci, tady napø.

^máma$ táta                neuzná ¾ádné prefixy ani sufixy pøi ¾ádné metodì, zatímco
^máma  táta                mù¾e, dovolí-li to metoda, uznat sufixy, ale ne prefixy.
^máma$ ^táta$              zpùsobí chybu pøi parsingu výsledného slova

Nedoporuèuje se, aby byl nahrazující výraz o moc vìt¹í, ne¾ nahrazovaný,
nanejvý¹ asi o pìt znakù; jinak je vhodné odpovídajícím zpùsobem zvý¹it 
safe_grow v options.cc a rekompilovat. (Pøi pøekroèení v meznì dlouhých
slovech mù¾e dojít k pøeteèení pole unit::subst::result). Zvý¹ení defaultu
by nemìlo mít ¾ádný nepøíznivý vliv.

Nahrazující výraz by nemìl obsahovat symboly pøíli¹ vysoké úrovnì,
jako napøíklad oddìlovaèe slabiky, je-li "scope" pøíslu¹ného substituèního
pravidla pouze slabika. Pokud by je obsahoval, usekne se pøi substituci
text následující za prvním takovým znakem. Je-li nastaven konfiguraèní parametr
"paranoid" a dojde-li skuteènì k pokusu o takovouto nedokonèenou substituci,
program skonèí s chybovým hlá¹ením.

Substituce se provádìjí, dokud se daøí nìjakou najít. Dojde-li k zacyklení,
napøíklad skrze dvojici øádkù "tam zpátky" a "zpátky tam", provede se
náhrada tolikrát, kolik udává konfiguraèní parametr "multi_subst".

Øádek mù¾e rovnì¾ obsahovat komentáø, a» u¾ spolu s polo¾kou, nebo samostatnì.
Komentáø zaèíná znakem '#' nebo ';', konèí koncem øádky; podrobnosti se lze
doèíst na zaèátku souboru src/hash.cc. Úplnì prázdný øádek je dovolen a ignorován.

V jakémkoli slovníku zále¾í na velikosti písmen.

Pokud nejsou zasa¾enými jednotkami hlásky, neposkytuje nahrazující výraz dostatek
informace (o ni¾¹ích vrstvách), z èeho¾ plyne omezení, ¾e délka nahrazujícího
øetìzce musí být stejná jako délka nahrazovaného a pøedpokládá se, ¾e si jednotlivé
znaky v obou øetìzcích odpovídají, pokud jde o podøízené jednotky.

